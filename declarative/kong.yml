_format_version: "3.0"
_transform: true

services:
  - name: users-service
    host: users
    port: 3000
    protocol: http
    connect_timeout: 60000
    write_timeout: 60000
    read_timeout: 60000
    retries: 0
    routes:
      - name: users-route
        paths:
          - /users
        methods:
          - GET
          - POST
          - PATCH
          - PUT
          - DELETE
          - OPTIONS
        strip_path: false
      - name: teams-route
        paths:
          - /teams
        methods:
          - GET
          - POST
          - PATCH
          - PUT
          - DELETE
          - OPTIONS
        strip_path: false
      - name: companies-route
        paths:
          - /companies
        methods:
          - GET
          - POST
          - PATCH
          - PUT
          - DELETE
          - OPTIONS
        strip_path: false
      - name: auth-route
        paths:
          - /auth
        methods:
          - GET
          - POST
          - OPTIONS
        strip_path: false
      - name: users-app-health
        paths:
          - /users-app/health
        methods:
          - GET
        strip_path: false

plugins:
  - name: cors
    config:
      origins: ["*"]
      methods: [GET, POST, PATCH, PUT, DELETE, OPTIONS]
      headers: [Authorization, Content-Type]
      credentials: false
      max_age: 3600
